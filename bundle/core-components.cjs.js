"use strict";function _interopDefault(t){return t&&"object"==typeof t&&"default"in t?t.default:t}Object.defineProperty(exports,"__esModule",{value:!0});var React$1=_interopDefault(require("react")),version="1.0.0",name$1="@nrk/core-datepicker",version$1="1.0.0";function addElements(t,e){return"string"==typeof e?addElements(t,document.querySelectorAll(e)):e.length?[].map.call(e,function(e){return(e[t]=1)&&e}):e.nodeType?(e[t]=1)&&[e]:[]}function addEvent(t,e,n){if("undefined"!=typeof window){var o=window[t]=window[t]||{};!o[e]&&(o[e]=1)&&document.addEventListener(e,function(e){for(var o=e.target;o;o=o.parentElement)o[t]&&n(o,e)},!0)}}function assign(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];return e.filter(Boolean).forEach(function(e){Object.keys(e).forEach(function(n){return t[n]=e[n]})}),t}var CustomEvent=function(){if("undefined"!=typeof window)return window.CustomEvent?window.CustomEvent:(t.prototype=window.Event.prototype,t);function t(t,e){void 0===e&&(e={});var n=document.createEvent("CustomEvent");return n.initCustomEvent(t,Boolean(e.bubbles),Boolean(e.cancelable),e.detail),n}}();if("undefined"!=typeof window&&"function"!=typeof window.CustomEvent){function CustomEvent$1(t,e){void 0===e&&(e={bubbles:!1,cancelable:!1,detail:void 0});var n=document.createEvent("CustomEvent");return n.initCustomEvent(t,e.bubbles,e.cancelable,e.detail),n}CustomEvent$1.prototype=window.Event.prototype,window.CustomEvent=CustomEvent$1}var KEY=name$1+"-"+version$1;function datepicker(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(Datepicker,[null].concat(t)))}var Datepicker=function(t){this.elements=addElements(t,KEY)};function Datepicker$1(){}Datepicker.prototype.open=function(t){void 0===t&&(t=!0)},Datepicker.prototype.close=function(t){void 0===t&&(t=!1)};var name$2="@nrk/core-toggle",version$2="1.0.0",KEY$1=name$2+"-"+version$2,ATTR="aria-expanded";function toggle(t,e){var n=typeof e;return addElements(KEY$1,t).map(function(t,o){var i="true"===t.getAttribute(ATTR),r="undefined"===n?i:Boolean("function"===n?e(t,o):e);return(i===r||t.dispatchEvent(new CustomEvent("toggle",{bubbles:!0,cancelable:!0,detail:r})))&&t.setAttribute(ATTR,Boolean(e)),t})}addEvent(KEY$1,"click",function(t){toggle(t,"true"!==t.getAttribute(ATTR))});var ARIA_LIVE_EL,Toggle=function(t){function e(e){t.call(this,e),this.toggle=this.toggle.bind(this),this.state={open:"false"!==this.props.open&&Boolean(this.props.open)}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.toggle=function(){this.setState(function(t,e){return{open:!t.open}})},e.prototype.render=function(){var t=assign({"aria-expanded":this.state.open,onClick:this.toggle},this.props);return React$1.createElement("button",t)},e}(React$1.PureComponent),name$3="@nrk/core-input",version$3="1.0.0",KEY$2=name$3+"-"+version$3,ARIA_OWNS_ID=0;function input(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(Input,[null].concat(t)))}var Input=function(t,e){void 0===e&&(e={}),this.elements=getElements(t),this.elements.forEach(function(t){var n=e.complete||t.getAttribute("aria-autocomplete")||"both",o=e.owns||t.getAttribute("aria-owns")||KEY$2+"-"+ARIA_OWNS_ID++;if(t.setAttribute("role","combobox"),t.setAttribute("autocomplete",!1),t.setAttribute("aria-expanded",!1),t.setAttribute("aria-autocomplete",n),t.setAttribute("aria-owns",o),!getList(t)){var i=document.createElement("ul");i.id=o,i.className="nrk-dropdown",t.insertAdjacentElement("afterend",i)}t[KEY$2]=[].map.call(getList(t).children,function(t){return t.innerHTML}),getList(t).setAttribute("hidden",""),getList(t).setAttribute("role","listbox")})};function getList(t){return document.getElementById(t.getAttribute("aria-owns"))}function render(t){t.value.trim().toLowerCase();var e=getList(t);ARIA_LIVE_EL.setAttribute("aria-hidden",!1),ARIA_LIVE_EL.textContent=hits.length+" treff",t.setAttribute("aria-expanded",!0),e.removeAttribute("hidden"),e.style.width=t.offsetWidth+"px",e.innerHTML=hits.map(function(t,e){return'<li role="option" aria-selected="'+(0===e)+'">'+t.value+"</li>"}).join("")}function onKey(t,e){if(27===e.keyCode&&input(t).hide(),38===e.keyCode||40===e.keyCode){e.preventDefault();var n=[].slice.call(getList(t).children),o=n.filter(function(t){return"true"===t.getAttribute("aria-selected")})[0],i=(n.indexOf(o)+(38===e.keyCode?-1:1))%n.length,r=t.getAttribute("aria-autocomplete"),a=(n[i]||t).value;console.log(i,a),render(t),"list"===r?LIVE.textContent=a||"Tomt tekstfelt":t.value=a}}function Input$1(){return React.createElement("div",null,"Testing input")}Input.prototype.value=function(){},Input.prototype.show=function(){return ARIA_LIVE_EL.setAttribute("aria-hidden",!1),this.elements.forEach(function(t){t.setAttribute("aria-expanded",!0),getList(t).removeAttribute("hidden"),getList(t).style.width=t.offsetWidth+"px"}),this},Input.prototype.hide=function(){return ARIA_LIVE_EL.setAttribute("aria-hidden",!0),this.elements.forEach(function(t){t.setAttribute("aria-expanded",!1),getList(t).setAttribute("hidden","")}),this},"undefined"!=typeof document&&((ARIA_LIVE_EL=document.createElement("span")).setAttribute("aria-hidden",!0),ARIA_LIVE_EL.setAttribute("aria-live","assertive"),document.documentElement.appendChild(ARIA_LIVE_EL)),addEvent(KEY$2,"keydown",onKey),addEvent(KEY$2,"focus",render),addEvent(KEY$2,"input",render),addEvent(KEY$2,"blur",function(t){return input(t).hide()}),exports.version=version,exports.datepicker=datepicker,exports.Datepicker=Datepicker$1,exports.toggle=toggle,exports.Toggle=Toggle,exports.input=input,exports.Input=Input$1;
