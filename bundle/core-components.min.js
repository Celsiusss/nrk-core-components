!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e(t.coreComponents={})}(this,function(t){"use strict";var e="undefined"!=typeof window&&/(android)/i.test(window.navigator.userAgent),n='a,button,input,select,textarea,iframe,[tabindex],[contenteditable="true"]';function o(t,e,n){"undefined"==typeof window||window[t+"-"+e]||document.addEventListener(e,n,window[t+"-"+e]=!0)}function i(t,e){var n=r(t),o="true"===t.getAttribute("aria-expanded"),i="boolean"==typeof e?e:"toggle"===e?!o:o,a=o===i||function(t,e,n){void 0===n&&(n={});return t.dispatchEvent(new u(e,{bubbles:!0,cancelable:!0,detail:n}))}(t,"toggle",{relatedTarget:n,isOpen:o})?i:o;return n[a?"removeAttribute":"setAttribute"]("hidden",""),t.setAttribute("aria-expanded",a),a}function r(t,n,o){var i=t.getAttribute("aria-controls")||t.getAttribute("aria-owns")||t.getAttribute("list"),r=o||document.getElementById(i)||t.nextElementSibling,u=e?"data":"aria";if(!r)throw new Error("missing nextElementSibling on "+t.outerHTML);return n&&(t.setAttribute("aria-"+n,r.id=r.id||a()),r.setAttribute(u+"-labelledby",t.id=t.id||a())),r}var u=function(){if("undefined"!=typeof window)return"function"==typeof window.CustomEvent?window.CustomEvent:(t.prototype=window.Event.prototype,t);function t(t,e){void 0===e&&(e={});var n=document.createEvent("CustomEvent");return n.initCustomEvent(t,Boolean(e.bubbles),Boolean(e.cancelable),e.detail),n}}();function a(t,e){return Date.now().toString(36)+Math.random().toString(36).slice(2,5)}function c(t,e){return void 0===e&&(e=document),":focusable"===t?c(n,e).filter(function(t){return!t.disabled&&function(t){return t.offsetWidth&&t.offsetHeight&&"hidden"!==window.getComputedStyle(t).getPropertyValue("visibility")}(t)}):"string"==typeof t?c(e.querySelectorAll(t)):t.length?[].slice.call(t):t.nodeType?[t]:[]}var d="data-@nrk/core-toggle-1.0.0".replace(/\W+/g,"-"),l="aria-expanded",f="aria-haspopup",s=function(t){return"boolean"==typeof t};function p(t,e){var n="object"==typeof e?e:{open:e},o=c(t);return o.forEach(function(t){var e=s(n.open)?n.open:"true"===t.getAttribute(l),o=s(n.popup)?n.popup:"true"===t.getAttribute(f);t.setAttribute(d,""),t.setAttribute(f,o),r(t,"controls"),i(t,e)}),o}o(d,"click",function(t){var e=t.target;c("["+d+"]").forEach(function(t){var n="true"===t.getAttribute(l),o="true"===t.getAttribute(f);t.contains(e)?p(t,!n):o&&p(t,r(t).contains(e))})});var b="data-@nrk/core-input-1.0.0".replace(/\W+/g,"-");function g(t){c("["+b+"]").forEach(function(e){var n=r(e);"click"===t.type&&c(":focusable",n).forEach(function(n){if(n.contains(t.target))return e.focus(),e.value=n.value||n.textContent,i(e,!1)}),i(e,e.contains(t.target)||n.contains(t.target))})}o(b,"click",g),o(b,"focus",g),o(b,"keydown",function(t){t.ctrlKey||t.altKey||t.metaKey}),t.toggle=p,t.input=function(t,e){return void 0===e&&(e={}),c(t).map(function(t){var n=r(t,"owns"),o=e.mode||t.getAttribute("aria-autocomplete")||"list";t.setAttribute(b,""),t.setAttribute("role","combobox"),t.setAttribute("autocomplete",!1),t.setAttribute("aria-autocomplete",o),n.setAttribute("role","listbox"),i(t,e.open)})},Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=core-components.min.js.map
