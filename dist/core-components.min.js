!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("react")):"function"==typeof define&&define.amd?define(["exports","react"],t):t(e.coreComponents={},e.React)}(this,function(e,t){"use strict";t=t&&t.hasOwnProperty("default")?t.default:t;var n,o="core-components-"+Date.now(),r={},i=0;function l(e,t){return c(e).forEach(function(e){Object.keys(t).forEach(function(n){e[(null===t[n]?"remove":"set")+"Attribute"](n,t[n])})}),e}function c(e,t){var n=[];return"string"==typeof e?n=[].slice.call(document.querySelectorAll(e)):e&&e.length?n=[].slice.call(e):e&&e.nodeType&&(n=[e]),t&&n.forEach(function(e){return e[t]=1}),n}function a(e,t,n){void 0===n&&(n={});var l={get:function(e){return r[e[o]]},set:function(e,t){var l=e[o]||(e[o]=++i),c=r[l]||(r[l]=n);return Object.keys(t).forEach(function(e){return c[e]=t[e]}),c},has:function(e){return Boolean(r[e[o]])},delete:function(e){return!!l.get(e)&&(delete e[o],delete r[e[o]],!0)}};return!1===t?l.delete(e):"object"==typeof t&&l.set(e,t),l}"undefined"!=typeof document&&(l(document.createElement("ul"),{role:"listbox"}),l(document.createElement("span"),{"aria-hidden":"true","aria-live":"polite"}));var u="dialog-@VERSION",d="data-dialog-xxx",s="\n  [tabindex]:not([disabled]),\n  button:not([disabled]),\n  input:not([disabled]),\n  select:not([disabled]),\n  textarea:not([disabled])",p=function(){return document.querySelector("["+d+"]")},f=function(e,t,o,r){void 0===r&&(r=!0);var i,u,f,m,g,h=Boolean("function"==typeof o?o(e,t):o)===r;if(l(e,{open:h?"":null}),h)e.style.zIndex=c("*").reduce(function(e,t){return Math.max(e,Number(window.getComputedStyle(t,null).getPropertyValue("z-index"))||0)},0)+1,m=e,(g=p())&&g.removeAttribute(d),m.setAttribute(d,""),a(m,{prevActive:g,focusBeforeModalOpen:document.activeElement}).get(m),u=(i=e).querySelector("[autofocus]:not([disabled])"),f=i.querySelector(s),(u||f||i).focus(),n.hidden=!1,a().get(e).onOpenCallback&&a().get(e).onOpenCallback();else{if(!a().get(e))return;n.hidden=!a().get(e).prevActive,e.removeAttribute(d),n.hidden||a().get(e).prevActive.setAttribute(d,"");var v=a().get(e);v.focusBeforeModalOpen&&v.focusBeforeModalOpen.focus(),a().get(e).onCloseCallback&&a().get(e).onCloseCallback()}},m=function(e){var t=p();if(t){var n=a().get(t),o=t.querySelectorAll(s);t.contains(e.target)?n.activeElement=e.target:n.activeElement===o[0]?o[o.length-1].focus():o[0].focus()}},g=function(e){27===e.keyCode&&h(p()).close()};function h(e,t){return void 0===t&&(t={}),this instanceof h?(this.elements=l(c(e),{role:"dialog",tabindex:-1,"aria-modal":!0}),this.elements.forEach(function(e){a().get(e)||a().set(e,{onOpenCallback:t.onOpenCallback,onCloseCallback:t.onCloseCallback})}),this):new h(e,t)}h.prototype.open=function(e){return void 0===e&&(e=!0),this.elements.forEach(function(t,n){return f(t,n,e)}),this},h.prototype.close=function(e){return void 0===e&&(e=!1),this.elements.forEach(function(t,n){return f(t,n,e)}),this},"undefined"==typeof document||document.getElementById(u)||(l(n=document.createElement("div"),{hidden:!0,id:u}),n.classList.add("nrk-dialog-backdrop"),document.addEventListener("focus",m,!0),document.addEventListener("keydown",g),document.documentElement.appendChild(n));var v=function(e){function n(){e.apply(this,arguments)}return e&&(n.__proto__=e),n.prototype=Object.create(e&&e.prototype),n.prototype.constructor=n,n.prototype.componentDidMount=function(){var e=this;this.dialog=h(this.dialogEl,{onOpenCallback:function(){e.props.onOpenCallback()},onCloseCallback:function(){e.props.onCloseCallback()}})},n.prototype.componentWillReceiveProps=function(e){this.props.open!==e.open&&this.toggle(e.open)},n.prototype.shouldComponentUpdate=function(){return!1},n.prototype.toggle=function(e){e?this.dialog.open():this.dialog.close()},n.prototype.render=function(){var e=this;return t.createElement("div",{className:"nrk-dialog",role:"dialog",tabIndex:"-1",ref:function(t){e.dialogEl=t}},this.props.children)},n}(t.Component);e.version="1.0.0",e.input=function(){console.log("input")},e.Input=function(){return React.createElement("div",null,"Testing input")},e.dialog=h,e.Dialog=v,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=core-components.min.js.map
