!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("react")):"function"==typeof define&&define.amd?define(["react"],e):t.Toggle=e(t.React)}(this,function(t){"use strict";t=t&&t.hasOwnProperty("default")?t.default:t;function e(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];return e.filter(Boolean).forEach(function(e){Object.keys(e).forEach(function(n){return t[n]=e[n]})}),t}function n(t,e){var n=o(t),i="true"===t.getAttribute("aria-expanded"),u="boolean"==typeof e?e:"toggle"===e?!i:i,a=i===u||function(t,e,n){void 0===n&&(n={});return t.dispatchEvent(new r(e,{bubbles:!0,cancelable:!0,detail:n}))}(t,"toggle",{relatedTarget:n,isOpen:i})?u:i;return n[a?"removeAttribute":"setAttribute"]("hidden",""),t.setAttribute("aria-expanded",a),a}function o(t,e,n){var o=t.getAttribute("aria-controls")||t.getAttribute("aria-owns")||t.getAttribute("list"),r=n||document.getElementById(o)||t.nextElementSibling;if(!r)throw new Error("missing nextElementSibling on "+t.outerHTML);return e&&t.setAttribute("aria-"+e,r.id=r.id||i()),e&&r.setAttribute("aria-labelledby",t.id=t.id||i()),r}var r=function(){if("undefined"!=typeof window)return"function"==typeof window.CustomEvent?window.CustomEvent:(t.prototype=window.Event.prototype,t);function t(t,e){void 0===e&&(e={});var n=document.createEvent("CustomEvent");return n.initCustomEvent(t,Boolean(e.bubbles),Boolean(e.cancelable),e.detail),n}}();function i(t,e){return Date.now().toString(36)+Math.random().toString(36).slice(2,5)}var u='a,button,input,select,textarea,iframe,[tabindex],[contenteditable="true"]';function a(t,e){return void 0===e&&(e=document),":focusable"===t?a(u,e).filter(function(t){return!t.disabled&&function(t){return t.offsetWidth&&t.offsetHeight&&"hidden"!==window.getComputedStyle(t).getPropertyValue("visibility")}(t)}):"string"==typeof t?a(e.querySelectorAll(t)):t.length?[].slice.call(t):t.nodeType?[t]:[]}var p,d,c,l="data-@nrk/core-toggle-1.0.0".replace(/\W+/g,"-"),f="aria-expanded",s="aria-haspopup",b=function(t){return"boolean"==typeof t};function g(t,e){var r="object"==typeof e?e:{open:e},i=a(t);return i.forEach(function(t){var e=b(r.open)?r.open:"true"===t.getAttribute(f),i=b(r.popup)?r.popup:"true"===t.getAttribute(s);t.setAttribute(l,""),t.setAttribute(s,i),o(t,"controls"),n(t,e)}),i}function y(t){g(ReactDOM.findDOMNode(t).firstElementChild)}return p=l,d="click",c=function(t){var e=t.target;a("["+l+"]").forEach(function(t){var n="true"===t.getAttribute(f),r="true"===t.getAttribute(s);t.contains(e)?g(t,!n):r&&g(t,o(t).contains(e))})},"undefined"==typeof window||window[p+"-"+d]||document.addEventListener(d,c,window[p+"-"+d]=!0),function(n){function o(){n.apply(this,arguments)}return n&&(o.__proto__=n),o.prototype=Object.create(n&&n.prototype),o.prototype.constructor=o,o.prototype.componentDidMount=function(){y(this)},o.prototype.componentDidUpdate=function(){y(this)},o.prototype.render=function(){var n=this;return t.createElement("div",e({},this.props,{open:null,popup:null}),t.Children.map(this.props.children,function(t,o){return e({},t,{props:e({},t.props,o?{hidden:!n.props.open}:{"aria-expanded":String(Boolean(n.props.open)),"aria-haspopup":String(Boolean(n.props.popup))})})}))},o}(t.Component)});
//# sourceMappingURL=index.js.map
