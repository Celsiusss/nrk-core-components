!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.coreToggle=e()}(this,function(){"use strict";var t="undefined"!=typeof window&&/(android)/i.test(window.navigator.userAgent),e='a,button,input,select,textarea,iframe,[tabindex],[contenteditable="true"]';function n(t,e){var n=o(t),r="true"===t.getAttribute("aria-expanded"),u="boolean"==typeof e?e:"toggle"===e?!r:r,a=r===u||function(t,e,n){void 0===n&&(n={});return t.dispatchEvent(new i(e,{bubbles:!0,cancelable:!0,detail:n}))}(t,"toggle",{relatedTarget:n,isOpen:r})?u:r;return n[a?"removeAttribute":"setAttribute"]("hidden",""),t.setAttribute("aria-expanded",a),a}function o(e,n,o){var i=e.getAttribute("aria-controls")||e.getAttribute("aria-owns")||e.getAttribute("list"),u=o||document.getElementById(i)||e.nextElementSibling,a=t?"data":"aria";if(!u)throw new Error("missing nextElementSibling on "+e.outerHTML);return n&&(e.setAttribute("aria-"+n,u.id=u.id||r()),u.setAttribute(a+"-labelledby",e.id=e.id||r())),u}var i=function(){if("undefined"!=typeof window)return"function"==typeof window.CustomEvent?window.CustomEvent:(t.prototype=window.Event.prototype,t);function t(t,e){void 0===e&&(e={});var n=document.createEvent("CustomEvent");return n.initCustomEvent(t,Boolean(e.bubbles),Boolean(e.cancelable),e.detail),n}}();function r(t,e){return Date.now().toString(36)+Math.random().toString(36).slice(2,5)}function u(t,n){return void 0===n&&(n=document),":focusable"===t?u(e,n).filter(function(t){return!t.disabled&&function(t){return t.offsetWidth&&t.offsetHeight&&"hidden"!==window.getComputedStyle(t).getPropertyValue("visibility")}(t)}):"string"==typeof t?u(n.querySelectorAll(t)):t.length?[].slice.call(t):t.nodeType?[t]:[]}var a,d,c,l="data-@nrk/core-toggle-1.0.0".replace(/\W+/g,"-"),f="aria-expanded",s="aria-haspopup",p=function(t){return"boolean"==typeof t};function b(t,e){var i="object"==typeof e?e:{open:e},r=u(t);return r.forEach(function(t){var e=p(i.open)?i.open:"true"===t.getAttribute(f),r=p(i.popup)?i.popup:"true"===t.getAttribute(s);t.setAttribute(l,""),t.setAttribute(s,r),o(t,"controls"),n(t,e)}),r}return a=l,d="click",c=function(t){var e=t.target;u("["+l+"]").forEach(function(t){var n="true"===t.getAttribute(f),i="true"===t.getAttribute(s);t.contains(e)?b(t,!n):i&&b(t,o(t).contains(e))})},"undefined"==typeof window||window[a+"-"+d]||document.addEventListener(d,c,window[a+"-"+d]=!0),b});
//# sourceMappingURL=core-toggle.min.js.map
