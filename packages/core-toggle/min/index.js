!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.coreToggle=e()}(this,function(){"use strict";function t(t,o){var i=e(t),r="true"===t.getAttribute("aria-expanded"),u="boolean"==typeof o?o:"toggle"===o?!r:r,a=r===u||function(t,e,o){void 0===o&&(o={});return t.dispatchEvent(new n(e,{bubbles:!0,cancelable:!0,detail:o}))}(t,"toggle",{relatedTarget:i,isOpen:r})?u:r;return i[a?"removeAttribute":"setAttribute"]("hidden",""),t.setAttribute("aria-expanded",a),a}function e(t,e,n){var i=t.getAttribute("aria-controls")||t.getAttribute("aria-owns")||t.getAttribute("list"),r=n||document.getElementById(i)||t.nextElementSibling;if(!r)throw new Error("missing nextElementSibling on "+t.outerHTML);return e&&t.setAttribute("aria-"+e,r.id=r.id||o()),e&&r.setAttribute("aria-labelledby",t.id=t.id||o()),r}var n=function(){if("undefined"!=typeof window)return"function"==typeof window.CustomEvent?window.CustomEvent:(t.prototype=window.Event.prototype,t);function t(t,e){void 0===e&&(e={});var n=document.createEvent("CustomEvent");return n.initCustomEvent(t,Boolean(e.bubbles),Boolean(e.cancelable),e.detail),n}}();function o(t,e){return Date.now().toString(36)+Math.random().toString(36).slice(2,5)}var i='a,button,input,select,textarea,iframe,[tabindex],[contenteditable="true"]';function r(t,e){return void 0===e&&(e=document),":focusable"===t?r(i,e).filter(function(t){return!t.disabled&&function(t){return t.offsetWidth&&t.offsetHeight&&"hidden"!==window.getComputedStyle(t).getPropertyValue("visibility")}(t)}):"string"==typeof t?r(e.querySelectorAll(t)):t.length?[].slice.call(t):t.nodeType?[t]:[]}var u,a,d,c="data-@nrk/core-toggle-1.0.0".replace(/\W+/g,"-"),l="aria-expanded",f="aria-haspopup",p=function(t){return"boolean"==typeof t};function s(n,o){var i="object"==typeof o?o:{open:o},u=r(n);return u.forEach(function(n){var o=p(i.open)?i.open:"true"===n.getAttribute(l),r=p(i.popup)?i.popup:"true"===n.getAttribute(f);n.setAttribute(c,""),n.setAttribute(f,r),e(n,"controls"),t(n,o)}),u}return u=c,a="click",d=function(t){var n=t.target;r("["+c+"]").forEach(function(t){var o="true"===t.getAttribute(l),i="true"===t.getAttribute(f);t.contains(n)?s(t,!o):i&&s(t,e(t).contains(n))})},"undefined"==typeof window||window[u+"-"+a]||document.addEventListener(a,d,window[u+"-"+a]=!0),s});
//# sourceMappingURL=index.js.map
