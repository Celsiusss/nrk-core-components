!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.coreInput=e()}(this,function(){"use strict";function t(t,e,n){"undefined"==typeof window||window[t+"-"+e]||document.addEventListener(e,n,window[t+"-"+e]=!0)}function e(t,e){var i=n(t),r="true"===t.getAttribute("aria-expanded"),u="boolean"==typeof e?e:"toggle"===e?!r:r,a=r===u||function(t,e,n){void 0===n&&(n={});return t.dispatchEvent(new o(e,{bubbles:!0,cancelable:!0,detail:n}))}(t,"toggle",{relatedTarget:i,isOpen:r})?u:r;return i[a?"removeAttribute":"setAttribute"]("hidden",""),t.setAttribute("aria-expanded",a),a}function n(t,e,n){var o=t.getAttribute("aria-controls")||t.getAttribute("aria-owns")||t.getAttribute("list"),r=n||document.getElementById(o)||t.nextElementSibling;if(!r)throw new Error("missing nextElementSibling on "+t.outerHTML);return e&&t.setAttribute("aria-"+e,r.id=r.id||i()),e&&r.setAttribute("aria-labelledby",t.id=t.id||i()),r}var o=function(){if("undefined"!=typeof window)return"function"==typeof window.CustomEvent?window.CustomEvent:(t.prototype=window.Event.prototype,t);function t(t,e){void 0===e&&(e={});var n=document.createEvent("CustomEvent");return n.initCustomEvent(t,Boolean(e.bubbles),Boolean(e.cancelable),e.detail),n}}();function i(t,e){return Date.now().toString(36)+Math.random().toString(36).slice(2,5)}var r='a,button,input,select,textarea,iframe,[tabindex],[contenteditable="true"]';function u(t,e){return void 0===e&&(e=document),":focusable"===t?u(r,e).filter(function(t){return!t.disabled&&function(t){return t.offsetWidth&&t.offsetHeight&&"hidden"!==window.getComputedStyle(t).getPropertyValue("visibility")}(t)}):"string"==typeof t?u(e.querySelectorAll(t)):t.length?[].slice.call(t):t.nodeType?[t]:[]}var a="data-@nrk/core-input-1.0.0".replace(/\W+/g,"-");function c(t){u("["+a+"]").forEach(function(o){var i=n(o);"click"===t.type&&u(":focusable",i).forEach(function(n){if(n.contains(t.target))return o.focus(),o.value=n.value||n.textContent,e(o,!1)}),e(o,o.contains(t.target)||i.contains(t.target))})}return t(a,"click",c),t(a,"focus",c),t(a,"keydown",function(t){t.ctrlKey||t.altKey||t.metaKey}),function(t,o){return void 0===o&&(o={}),u(t).map(function(t){var i=n(t,"owns"),r=o.mode||t.getAttribute("aria-autocomplete")||"list";t.setAttribute(a,""),t.setAttribute("role","combobox"),t.setAttribute("autocomplete",!1),t.setAttribute("aria-autocomplete",r),i.setAttribute("role","listbox"),e(t,o.open)})}});
//# sourceMappingURL=index.js.map
